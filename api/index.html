<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Hackathon Registration</title>
  </head>
  <body>
    <h1>Hackathon Registration Form</h1>

    <form id="regForm">
      <input
        type="text"
        name="fullname"
        placeholder="Full Name"
        required
      /><br /><br />
      <input
        type="email"
        name="email"
        placeholder="Email"
        required
      /><br /><br />
      <input
        type="text"
        name="phone"
        placeholder="Phone"
        required
      /><br /><br />
      <textarea name="idea" placeholder="Your Fintech Idea" required></textarea
      ><br /><br />
      <button type="submit">Submit</button>
    </form>

    <p id="responseMsg"></p>

    <script>
      const form = document.getElementById("regForm");
      const responseMsg = document.getElementById("responseMsg");

      form.addEventListener("submit", async (e) => {
        e.preventDefault();

        const formData = {
          fullname: form.fullname.value,
          email: form.email.value,
          phone: form.phone.value,
          idea: form.idea.value,
        };

        try {
          const res = await fetch(
            "https://hackathon-registration-seven.vercel.app/register",
            {
              method: "POST",
              headers: { "Content-Type": "application/json" },
              body: JSON.stringify(formData),
            },
          );

          const data = await res.json();
          responseMsg.innerText = data.message || data.error;
          form.reset();
        } catch (err) {
          responseMsg.innerText = "Error submitting form";
          console.error(err);
        }
      });
    </script>
  </body>
</html>
