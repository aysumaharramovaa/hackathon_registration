<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Admin Panel</title>
    <style>
      body {
        font-family: Arial;
        background: #f4f6f9;
        padding: 20px;
      }
      .card {
        background: white;
        padding: 20px;
        margin-bottom: 20px;
        border-radius: 10px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
      }
      h2 {
        color: #0070f3;
      }
      .member {
        margin-left: 20px;
        color: #333;
      }
    </style>
  </head>
  <body>
    <h1>Hackathon Applications</h1>
    <div id="list"></div>

    <script>
      async function load() {
        const res = await fetch("/api/applications");
        const data = await res.json();
        const list = document.getElementById("list");

        data.forEach((team) => {
          const div = document.createElement("div");
          div.className = "card";
          div.innerHTML = `
      <h2>${team.team_name}</h2>
      <p><strong>Idea:</strong> ${team.idea}</p>
      <p><strong>Date:</strong> ${new Date(team.created_at).toLocaleString()}</p>
      <h3>Members:</h3>
      ${team.members
        .map(
          (m) => `
        <div class="member">
          ${m.name} | ${m.email} | ${m.phone} | ${m.group_name}
        </div>`,
        )
        .join("")}
    `;
          list.appendChild(div);
        });
      }
      load();
    </script>
  </body>
</html>
